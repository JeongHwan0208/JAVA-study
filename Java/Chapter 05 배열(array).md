# Chapter 05 배열(array)

## 1.배열(arry)

### 1.1 배열(array)이란?

배열은 같은 타입의 여러 변수를 하나의 묶음으로 다루는 것이다.

***주의 배열에 들어가는 요소들은 모두 같은 타입이어야 한다.**

### 1.2 배열의 선언과 생성

|    선언 방법     |             선언 예              |
| :--------------: | :------------------------------: |
| 타입[] 변수이름; | int[] score; 또는 String[] name; |
| 타입 변수이름[]; | int score[]; 또는 String name[]; |

###### 배열의 생성

```java
타입[] 변수이름;			  // 배열을 선언 (배열을 다루기 위한 참조변수 선언)
변수이름 = new 타입[길이]	 // 배열을 생성(실제 저장공간을 생성)
```

배열을 선언한 다음 배열을 생성해야 한다. 배열을 선언하는 것은 단지 생성된 배열을 다루기 위한 참조변수를 위한 공간이 만들어질 뿐이고, 배열을 생성해야만 비로소 값을 저장할 수 있는 공간이 만들어지는 것이다.

### 1.3 배열의 길이와 인덱스

생성된 배열의 각 저장공간을 '배열의 요소(element)'라고 하며, '배열이름[인덱스]'의 형식으로 배열의 요소에 접근한다.

**인덱스(index)는 배열의 요소마다 붙여진 일련번호**

```
인덱스(index)의 범위는 0부터 배열길이 -1 까지
```

###### 배열의 길이

배열의 길이는 int범위의 양의 정수(0도 포함)이어야 한다.

###### 배열이름.length

자바에서는 JVM이 모든 배열의 길이를 별도로 관리하며, '배열이름.length'를 통해서 배열의 길이에 대한 정보를 얻을 수 있다.

배열을 한 번 생성하면 길이를 변경할 수 없기 때문에, 이미 생성된 배열의 길이는 변하지 않는다. 따라서 '배열이름.length'는 상수다.

###### 배열의 길이 변경하기

```
1. 더 큰 배열을 새로 생성한다.
2. 기존 배열의 내용을 새로운 배열에 복사한다.
```

### 1.4 배열의 초기화

배열은 생성과 동시에 자동적으로 자신의 타입에 해당하는 기본값으로 초기화 되므로 배열을 사용하기 전에 따로 초기화 해주지 않아도 되지만, 원하는 값을 저장하려면 각 요소마다 값을 지정해줘야 한다.

### 1.5 배열의 출력

1. 배열의 저장된 값을 확인할 때는 for문을 사용하면 된다.

   ```java
   int[] iarr = {100, 95, 80, 70, 60};
   // 배열의 요소를 순서대로 하나씩 출력
   for(int i =0;i< iarr.length; i++){
   	System.out.println(iarr[i]);
   }
   ```

2. 'Arrays.toString(배열이름)'메서드를 사용한다.

   ```java
   int[] iarr = {100, 95, 80, 70, 60};
   // 배열 iarr의 모든 요소를 출력한다. [100, 95, 80, 70, 60]이 출력된다.
   System.out.println(Arrays.toSpring(iarr));
   ```

### 1.5 배열의 복사

배열은 한 번 생성하면 그 길이를 변경할 수 없기 때문에, 처음부터 배열의 길이를 넉넉하게 잡아줘서 새로 배열을 생성하야하는 상황이 가능한 적게 발생하도록 해야 한다.

```
int[] arr = new int[5];
  ...
int[] tmp = new int[arr.length*2]; // 기존 배열보다 길이가 2배인 배열 생성
for(int i=0;i< arr.length; i++){
	tem[i] = arr[i]; // arr[i]의 값을 tmp[i]에 저장
}
arr = tmp;
```

1. 배열 arr의 길이인 arr.length의 길이가 5이므로 길이가 10인 int배열 tmp가 생성되고, 배열 tmp의 각 요소는 int의 기본값인 0으로 초기화 된다.
2.  for문을 이용해서 배열 arr의 모든 요소에 저장된 값을 하나씩 배열 tmp에 복사한다.
3.  참조변수 arr에 참조변수 tmp의 값을 저장한다. arr의 값은 바뀌고 arr은 배열 tmp를 가리키게 된다.

###### System.arraycopy() 이용한 배열의 복사

```
배열의 복사는 for문보다 System.arraycopy()를 사용하는 것이 효율적이다.
```

```
System.arraycopy(num, 0, newnum, 0, num.length); // num[0]에서 newnum[0]으로 num.length
```

배열 num의 내용을 배열newnum으로, 배열 num의 첫 번째 요소부터 시작해서 num.length개의 데이터를 newnum의 첫 번째 요소에 복사한다.

## 2. String 배열

### 2.1 String배열의 선언과 생성

배열의 타입이 String인 경우에도 int배열의 선언과 생성방법은 다르지 않다.

``` java
String[] name = new String[3]; // 3개의 문자열을 담을 수 있는 배열을 생성한다.
```

### 2.2 String배열의 초기화

초기화 역시 int배열과 동일한 방법으로 한다.

```java
String[] name = new String[3]; // 길이가 3인 String배열을 생성
name[0] = "Choi";
naem[1] = "Jeong";
name[2] = "Hwan";
// 또는
String[] name = {"Choi", "Jeong", "Hwan"}; //new Stirng[]을 생략할 수 있다.
```

### 2.3 char배열과 String클래스

``` 
String클래스는 char배열에 기능(메서드)를 추가한 것이다.
```

###### String클래스의 주요 메서드

|              메서드               |                             설명                             |
| :-------------------------------: | :----------------------------------------------------------: |
|      char charAir(int index)      |         문자열에서 해당위치에 있는 문자를 반환한다.          |
|           int length()            |                  문자열의 길이를 반환한다.                   |
| String substring(int from,int to) | 문자열에서 해당범위에 있는 문자열을 반환한다. (to는 범위에 포함하되지 않음) |
|    boolean equals(Object obj)     | 문자열의 내용이 obj와 같은지 확인한다. 같으면 결과는 true, 다르면 결과는 false가 된다. |
|        char[]toCharArray()        |        문자열을 문자배열(char[])로 변환해서 반환한다.        |

###### char배열과 String클래스의 변환

char배열을 String클래스로 변환하거나, 또는 그 반대로 변환해야 하는 경우가 있다.

그럴떄 다음의 코드를 사용하자.

```java
char[] chArr = {'A', 'B', 'C'};
String str = new String(chArr); // char배열 -> String
char[] tmp = str.toCharrArray(); // String -> char배열
```

### 2.4 커맨드 라인을 통해 입력받기

프로그램을 실행할 때 클래스 이름뒤에 공백문자로 구분하여 여러 개의 문자열을 프로그램에 전달 할 수 있다.

```java
class ArrayEx{
	public static void main(String[] args){
		System.out.println("매개변수의 개수:"+args.length);
		for(int i=0;i< args.length;i++){
			System.out.println("args[" + i + "] = \"" + args[i] + "\"");
		}
	}
}
```

커맨드라인에 입력된 매개변수는 공백문자로 구분하기 때문에 입력될 값에 공백이 있는 경우 큰따옴표로 감싸주어야 한다. 그리고 커맨드라인에서 숫자를 입력해도 숫자가 아닌 문자열로 처리된다는 것에 주의해야한다.

커맨드라인으로부터 입력받은 데이터는 모두 문자열이므로 숫자와 문자로 변환이 필요하며, Interger.parseInt()를 사용했다.

## 3. 다차원 배열

### 3.1 2차원 배열의 선언과 인덱스

|      선언 방법      |     선언 예     |
| :-----------------: | :-------------: |
| 타입[] [] 변수이름; | int[] [] score; |
| 타입 변수이름[] []  | int score[] []; |
| 타입[] 변수이름[];  | int[] score[];  |

2차원 배열을 선언하는 방법은 1차원 배열과 같다. 다만 괄호[]가 하나 더 들어갈 뿐이다.

###### 2차원 배열의 index

2차원 배열은 행(row)과 열(column)로 구성되어 있기 때문에 index도 행과 열에 각각 하나씩 존재한다. 행index의 범위는 0~행의 길이 -1이고 열index 의 범위는 0~열의 길이-1이다.

### 3.2 2차원 배열의 초기화

2차원 배열도 괄호{}를 사용해서 생성과 초기화를 동시에 할 수 있다. 다만 1차원 배열보다 괄호{}를 한번 더 써서 행별로 구분해준다.

```java
int[][] arr = new int[][] { {1,2,3},{4,5,6} };
int[][] arr = { {1,2,3},{4,5,6} };
```

### 3.3 가변 배열

2차원 이상의 다차원 배열을 생성할 때 전체 배열 차수 중 마지막 차수의 길이를지정하지 않고, 추후에 각기 다른 길이의 배열을 생성함으로써 고정된 형태가 아닌 보다 유동적인 가변 배열을 구성할 수 있다. 